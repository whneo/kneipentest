<?php
include './db_connect.inc.php';
// $suchstring enthÃ¤lt den zu suchenden Teilstring
// sql statement mit prepared statements
$stmt = $db->prepare("SELECT * FROM kneipen WHERE Kneipenname LIKE ? or Art LIKE ? or Kommentar LIKE ?");
$stmt->bindValue(1, "%$suchstring%", PDO::PARAM_STR);
$stmt->bindValue(2, "%$suchstring%", PDO::PARAM_STR);
$stmt->bindValue(3, "%$suchstring%", PDO::PARAM_STR);
$stmt->execute();
$rows = $stmt->fetchAll(PDO::FETCH_ASSOC);
?>
<table border="0" cellspacing="5" cellpadding="5">
    <thead>
        <tr>
            <th>Name</th>
            <th>Art</th>
            <th>Note</th>
            <th>Kommentar</th>
        </tr>
    </thead>
    <tbody>
        <?php
        for ($i = 0; $i < count($rows); $i++) {
            ?>
            <tr>
                <td><?php echo $rows[$i]['Kneipenname']; ?></td>
                <td><?php echo $rows[$i]['Art']; ?></td>
                <td><?php echo $rows[$i]['Note']; ?></td>
                <td><?php echo $rows[$i]['Kommentar']; ?></td>
            </tr>
            <?php
        }
        ?>
    </tbody>
</table>


